<!DOCTYPE html>
<html>
	<head>
		<title>jq</title>
		<script src="http://code.jquery.com/jquery-1.8.3.js"></script>
	</head>
	<body>
		<script type="text/javascript">
			var m = [
				{
					text: 'Животные',
					childs: [
						{
							text: 'Млекопитающие',
							childs: [
								'Коровы',
								'Ослы',
								'Собаки',
								'Тигры'
							]
						},
						{
							text: 'Рыбы',
							childs: [
								{
									text: 'Аквариумные',
									childs: [
										'Гуппи',
										'Скалярии',
										'Гурами'
									]
								},
								{
									text: 'Морские',
									childs: [
										'Морская форель'
									]
								}
							]
						}
					]
				},
				{
					text: 'Растения',
					childs: [
						{
							text: 'Высшие растения',
							childs: [
								'Споровые',
								'Семенные'
							]
						},
						{
							text: 'Водоросли',
							childs: [
								{
									text:'Бурые водоросли',
									childs:[
										'Ламинария',
										'Фукус',
									]
								},
								{
									text:'Красные водоросли',
									childs:[
										'Филлофора'
									]
								}
								
							]
						}
					]
				},
				{
					text: 'Грибы',
					childs: [
						{
							text: 'Шляпочные',
							childs: [
								'Белый гриб',
								'Мухомор'
							]
						},
						{
							text: 'Дрожжи'
						},
						{
							text: 'Плесневые',
							childs: [
								'Мукор',
								'Пеницилл'
							]
						}
					]
				},
				{
					text: 'Бактерии'
				},
				{
					text: 'Вирусы'
				}
			]
			function Create(m) {	
				var ul = $('<ul/>')
				for (var child of m) {
					var li = $('<li/>')
					if (child.text !== undefined) 
						li.append(child.text)
					if (typeof child !== 'object')
						li.append(child)
					else if (child.childs !== undefined) 
						li.append(Create(child.childs))
					li.on('click', function() {
						$(this.firstElementChild).slideToggle()
						console.log(this.firstChild.data, $(this).find("li").length)
						return false
					})
					ul.append(li)
				}
				return ul
			}
			$("body").append(Create(m))		
		</script>
	</body>

</html>